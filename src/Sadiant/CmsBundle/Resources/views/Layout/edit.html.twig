{% extends "SadiantCmsBundle::layout.html.twig" %}

{% set body_class = 'reversed' %}
{% set tab = 'design' %}
{% set nav = 'layouts' %}

{% block javascripts_assets %}
<script src="{{ asset('bundles/sadiantcms/js/page.js') }}" type="text/javascript"></script>
{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('bundles/sadiantcms/css/page.css') }}" type="text/css" media="all" />
{% endblock %}

{% block page_title %}
{% trans %}Edit Layout{% endtrans %}
{% endblock %}

{% form_theme form _self %}
{% block _layout_name_widget %}
    <input class="textbox" type="text" {{ block('widget_attributes') }} value="{{ value }}" />
{% endblock %}
{% block _layout_content_type_widget %}
    <input size="40" max-length="40" class="textbox" type="text" {{ block('widget_attributes') }} value="{{ value }}" />
{% endblock %}
{% block _layout_content_widget %}
{% spaceless %}
    <textarea class="textarea large" style="width: 100%;" {{ block('widget_attributes') }}>{{ value }}</textarea>
{% endspaceless %}
{% endblock %}

{% block content %}
    {% if layout is defined %}
    <h1>{% trans %}Edit Layout{% endtrans %}</h1>
    <form class="edit_layout" action="{{ url('layout_update', { 'id': layout.id }) }}" method="post" {{ form_enctype(form) }}>
    {% else %}
    <h1>{% trans %}New Layout{% endtrans %}</h1>
    <form class="edit_layout" action="{{ url('layout_new') }}" method="post" {{ form_enctype(form) }}>
    {% endif %}
        <div class="form_area">
            <p class="title">
                {{ form_label(form.name) }}
                {{ form_errors(form.name) }}
                {{ form_widget(form.name) }}
            </p>
            <div class="drawer">
                <div class="toggle_wrapper">
                    <div id="extra-fields" class="drawer_contents {% if (hasErrors is defined) and hasErrors %}display{% else %}hide{% endif %}">
                        <table class="fieldset">
                            <tbody>
                                <tr>
                                    <th class="label">
                                        {{ form_label(form.content_type) }}
                                    </th>
                                    <td class="field">
                                        {{ form_errors(form.content_type) }}
                                        {{ form_widget(form.content_type) }}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="drawer_handle">
                    <a id="link-more-fields" class="toggle more extra-fields-link {% if (hasErrors is not defined) or not hasErrors %}display-ib{% else %}hide{% endif %}" href="#">
                      {% trans %}More{% endtrans %}
                    </a>
                    <a id="link-less-fields" class="toggle less extra-fields-link {% if (hasErrors is defined) and hasErrors %}display-ib{% else %}hide{% endif %}" href="#">
                      {% trans %}Less{% endtrans %}
                    </a>
                </div>
            </div>
            <p class="content">
                {{ form_label(form.content) }}
                {{ form_errors(form.content) }}
                {{ form_widget(form.content) }}
            </p>
            {{ form_rest(form) }}
        </div>
        <p class="buttons" style="clear: left;">
            <input type="submit" value="{% trans %}Save Changes{% endtrans %}" name="save-and-list" />
            <input type="submit" value="{% trans %}Save and Continue Editing{% endtrans %}" name="save-and-edit" />
            {% trans %}or{% endtrans %}
            <a class="list-layout" href="{{ url('layout_list') }}">{% trans %}Cancel{% endtrans %}</a>
            {# {% if layout is defined %}
            <a href="{{ url('layout_remove', { 'id': layout.id }) }}">{% trans %}Remove{% endtrans %}</a>
            {% endif %}
            <a class="list-layout" href="{{ url('layout_list') }}">{% trans %}Back to list{% endtrans %}</a> #}
        </p>
        {# <p class="updated_line">
          {% trans %}Last Updated by <strong>Administrator</strong> at 07:27 am on January 02, 2009{% endtrans %}
        </p> #}
    </form>
{% endblock %}